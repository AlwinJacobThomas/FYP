{% extends 'hospital/base.html' %}
{% load static %}

{% block title %}Dashboard{% endblock %}
{% block head %}
<link rel="stylesheet" href="{% static 'hospital/css/doctor.css' %}">
{% endblock %}

{% block tab %}Dashboard{% endblock %}
{% block content %}

<div class="left-content">
    <div class="card-container">
        <div class="cards">
            <div class="heading" style="grid-area: heading;">Total Review</div>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="feather feather-star">
                <polygon
                    points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2">
                </polygon>
            </svg>
            <div class="count" style="grid-area: value;">{{review_count}}</div>


        </div>
        <div class="cards" style="background: #ffffff;color: #000000;border: 1px solid #DFDFDF;">
            <div class="heading" style="grid-area: heading;">Doctors</div>
            <svg xmlns="http://www.w3.org/2000/svg" style="fill: #000;" shape-rendering="geometricPrecision"
                text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd"
                clip-rule="evenodd" viewBox="0 0 512 435.32">
                <path
                    d="M420.14.52c58.98-6.77 113.22 53.61 83.44 113.04-8.48 16.93-25.74 37.06-44.83 56.81-12.87 13.33-26.16 26.52-39.6 39.65 2.97-8.03 4.59-16.92 4.59-26.57 0-19.09-8.42-37.67-21.96-51.22-13.07-13.07-31-21.62-50.87-21.62-19.91 0-37.88 8.5-50.96 21.58-13.5 13.5-21.88 32.03-21.88 51.26 0 8.14 1.19 15.79 3.4 22.85-41.75-40.4-80.61-86.18-82.18-130.08-1.65-46.33 34.9-76 76.94-75.47 37.57.51 53.38 19.19 77.84 42.99C374.4 22.55 388.79 4.11 420.14.52zM57.53 99.56c14.56-5.38 29.46 9 22.76 23.85-3.04 6.72-9.73 11.63-16.94 11.44-6.75-.19-12.04-4.6-15.89-9.79l-.24-.46c-8.9-.36-16.13.18-21.26 1.77-3.1.96-4.99 2.09-5.43 3.41-4.01 12.06 7.24 45.17 23.57 77.11.67 1.31 1.34 2.61 2.02 3.9a14.49 14.49 0 0 1 7.43 6.32c7.62 13.14 15.97 25.36 24.2 34.91 12.95 15.04 12.54 15.8 25.85 1.2 8.68-9.53 17.54-22.12 25.57-35.7 1.75-2.95 4.37-5.07 7.34-6.2 17.07-31.58 29.39-65.33 26.87-78.64-.57-3.03-3.28-5.01-7.17-6.32-5-1.68-11.52-2.35-18.6-2.52-.2.41-.4.81-.62 1.22-3.85 5.19-9.14 9.6-15.89 9.79-7.21.19-13.9-4.72-16.94-11.44-6.7-14.85 8.2-29.23 22.76-23.85 1.53.57 3.06 1.32 4.57 2.27.96.6 1.83 1.21 2.62 1.85 10.32.03 20.31.83 28.49 3.58 10.73 3.62 18.42 10.22 20.59 21.71 3.27 17.3-9.6 55.58-28.03 90.24 1.76 4.13 1.6 9-.85 13.16-9 15.2-19.06 29.46-29.12 40.49-6.04 6.64-12.25 12.23-18.44 16.38 13.85 102.91 209.11 193.49 230.64 27.81 2.9-22.37 2.18-44.68 1.52-67.15-.1-3.51-.2-6.94-.28-10.2-25.9-5.63-45.29-26.56-45.29-56.25s25.78-57.57 57.57-57.57 57.57 28.23 57.57 57.57-18.44 49.47-43.35 55.8c.08 3.32.17 6.58.27 9.92.68 23.52 1.34 45.61-1.42 69.11-23.74 202.09-266.34 108.36-283.62-25.46-8.18-4.74-16.56-12.32-24.66-21.72-9.51-11.04-18.95-24.8-27.39-39.37a14.58 14.58 0 0 1-.78-13.07l-1.34-2.61C7.76 179.99-4.29 140.63 1.43 123.47c2.7-8.08 9.11-13.41 18.61-16.36 7.65-2.37 17.59-3.15 29.3-2.59 1.04-.93 2.24-1.83 3.61-2.69 1.52-.95 3.05-1.7 4.58-2.27zm293.38 53.5c16.78 0 30.39 13.6 30.39 30.39 0 16.78-13.61 30.39-30.39 30.39-16.79 0-30.39-13.61-30.39-30.39 0-16.79 13.6-30.39 30.39-30.39z" />
            </svg>

            <div class="count" style="grid-area: value;">{{doctor_count}}</div>
        </div>
    </div>
    <div class="height36"></div>

    <div style="grid-area: heading;font-size: 28px; font-weight: 600;">Hospital
        Details</div>
    <div class="sub-heading">
        <a href="{% url 'hospital:edit_profile' %}" class="sub-heading" style="color: #007BFF;">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M19.4516 3.41575C19.6438 3.70687 19.6118 4.10248 19.3555 4.35876L10.1631 13.5511C10.0689 13.6454 9.95127 13.7128 9.82235 13.7465L5.99392 14.7465C5.86905 14.7791 5.74035 14.7784 5.61941 14.7476C5.49085 14.7149 5.37108 14.6482 5.27406 14.5511C5.08578 14.3629 5.01145 14.0889 5.07874 13.8313L6.07874 10.0028C6.1082 9.89003 6.1635 9.77861 6.23998 9.69121L15.4664 0.46967C15.5472 0.388906 15.6445 0.32846 15.7504 0.291631C15.8289 0.264324 15.9121 0.25 15.9968 0.25C16.1957 0.25 16.3864 0.329017 16.5271 0.46967L19.3555 3.2981C19.3921 3.33471 19.4242 3.37416 19.4516 3.41575ZM17.7645 3.82843L15.9968 2.06066L7.4786 10.5788L6.85361 12.9716L9.24638 12.3466L17.7645 3.82843Z"
                    fill="#007BFF" />
                <path
                    d="M17.6381 15.1603C17.9115 12.8227 17.9985 10.4688 17.8991 8.12079C17.8943 8.00837 17.9366 7.89898 18.0162 7.81942L18.9995 6.83609C19.1204 6.71519 19.327 6.79194 19.3383 6.96254C19.5232 9.75219 19.4531 12.5545 19.128 15.3346C18.8914 17.3571 17.2671 18.9421 15.255 19.167C11.7884 19.5544 8.20511 19.5544 4.73853 19.167C2.72648 18.9421 1.10214 17.3571 0.865591 15.3346C0.451053 11.7903 0.451053 8.20973 0.865591 4.66543C1.10214 2.6429 2.72648 1.05789 4.73853 0.833012C7.36828 0.539099 10.0652 0.468149 12.7274 0.620161C12.899 0.629958 12.9772 0.837575 12.8557 0.959093L11.8631 1.95165C11.7844 2.03034 11.6765 2.07261 11.5653 2.06885C9.33888 1.99376 7.09732 2.07872 4.90514 2.32373C3.57504 2.47239 2.50955 3.522 2.35544 4.83968C1.95444 8.26821 1.95444 11.7318 2.35544 15.1603C2.50955 16.478 3.57504 17.5276 4.90514 17.6763C8.26099 18.0513 11.7326 18.0513 15.0884 17.6763C16.4185 17.5276 17.484 16.478 17.6381 15.1603Z"
                    fill="#007BFF" />
            </svg>Edit Details
        </a>

    </div>

    <div class="height36"></div>
    <div class="height20"></div>

    <div class="">
        <h2 class="title" style="grid-area: heading;font-size: 22px; font-family: poppins;font-weight: 600;">
            {{hospital.hospital_name}}
        </h2>
        <div class="height20"></div>

        <div class="height20"></div>
        <div class="sub-heading">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M7.24807 10C7.24807 7.37665 9.37472 5.25 11.9981 5.25C14.6214 5.25 16.7481 7.37665 16.7481 10C16.7481 12.6234 14.6214 14.75 11.9981 14.75C9.37472 14.75 7.24807 12.6234 7.24807 10ZM11.9981 6.75C10.2031 6.75 8.74807 8.20507 8.74807 10C8.74807 11.7949 10.2031 13.25 11.9981 13.25C13.793 13.25 15.2481 11.7949 15.2481 10C15.2481 8.20507 13.793 6.75 11.9981 6.75Z"
                    fill="black" />
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M3.52244 8.85685C3.87676 4.55824 7.46891 1.25 11.7821 1.25H12.214C16.5272 1.25 20.1194 4.55824 20.4737 8.85685C20.664 11.166 19.9508 13.4589 18.4841 15.2526L13.691 21.1144C12.816 22.1845 11.1801 22.1845 10.3051 21.1144L5.51204 15.2526C4.04538 13.4589 3.3321 11.166 3.52244 8.85685ZM11.7821 2.75C8.24957 2.75 5.30756 5.45948 5.01737 8.98008C4.85895 10.9019 5.4526 12.8102 6.67326 14.3031L11.4663 20.1649C11.7411 20.501 12.255 20.501 12.5298 20.1649L17.3229 14.3031C18.5436 12.8102 19.1372 10.9019 18.9788 8.98008C18.6886 5.45948 15.7466 2.75 12.214 2.75H11.7821Z"
                    fill="black" />
            </svg>
            <div class="sub-heading">Address</div>
        </div>
        <div class="details">{{hospital.address}}</div>
        <div class="height20"></div>
        <div class="sub-heading">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M5.84194 9.85641C7.62925 13.7483 10.8097 16.8425 14.7635 18.5191L14.776 18.5244L15.5398 18.8648C16.5124 19.2982 17.6557 18.9904 18.2793 18.1273L19.5536 16.3636C19.6315 16.2558 19.6114 16.106 19.508 16.0226L17.2832 14.2278C17.1726 14.1385 17.01 14.1593 16.9254 14.2735L16.0595 15.4419C15.8492 15.7256 15.4695 15.8242 15.1477 15.6786C12.1913 14.3407 9.81562 11.965 8.47769 9.00857C8.33208 8.68681 8.43067 8.30705 8.71442 8.09677L9.8828 7.23091C9.99697 7.14631 10.0177 6.98368 9.92853 6.87308L8.13348 4.64804C8.05006 4.54462 7.90031 4.52454 7.79258 4.60231L6.01928 5.88247C5.1505 6.50966 4.84454 7.6625 5.288 8.63795L5.84134 9.85511C5.84154 9.85555 5.84174 9.85598 5.84194 9.85641ZM14.1716 19.8974C9.87557 18.0738 6.42021 14.7108 4.47816 10.481L4.47699 10.4785L3.92249 9.25874C3.18339 7.63299 3.69332 5.71158 5.1413 4.66627L6.91459 3.38611C7.66871 2.8417 8.71694 2.98231 9.30094 3.7062L11.096 5.93125C11.7205 6.70542 11.5751 7.84381 10.7759 8.43605L10.1064 8.93221C11.2373 11.1266 13.0297 12.919 15.2241 14.0499L15.7203 13.3804C16.3125 12.5812 17.4509 12.4358 18.2251 13.0603L20.4498 14.8551C21.1739 15.4393 21.3143 16.4879 20.7695 17.242L19.4951 19.0058C18.4558 20.4443 16.5504 20.9572 14.9293 20.235L14.1716 19.8974Z"
                    fill="black" />
            </svg>
            <div class="sub-heading">Contact</div>
        </div>
        <div class="details">{{hospital.phone}}</div>
    </div>
</div>
<div class="right-content">
    <div class="facility">
        <div class="heading" style="grid-area: heading;font-size: 22px; font-family: poppins;font-weight: 600;">
            Facilities</div>
        <div class="sub-heading">
            <a href="{% url 'hospital:add_facility' %}" class="sub-heading" style="color: #007BFF;">Edit Details
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M19.4516 3.41575C19.6438 3.70687 19.6118 4.10248 19.3555 4.35876L10.1631 13.5511C10.0689 13.6454 9.95127 13.7128 9.82235 13.7465L5.99392 14.7465C5.86905 14.7791 5.74035 14.7784 5.61941 14.7476C5.49085 14.7149 5.37108 14.6482 5.27406 14.5511C5.08578 14.3629 5.01145 14.0889 5.07874 13.8313L6.07874 10.0028C6.1082 9.89003 6.1635 9.77861 6.23998 9.69121L15.4664 0.46967C15.5472 0.388906 15.6445 0.32846 15.7504 0.291631C15.8289 0.264324 15.9121 0.25 15.9968 0.25C16.1957 0.25 16.3864 0.329017 16.5271 0.46967L19.3555 3.2981C19.3921 3.33471 19.4242 3.37416 19.4516 3.41575ZM17.7645 3.82843L15.9968 2.06066L7.4786 10.5788L6.85361 12.9716L9.24638 12.3466L17.7645 3.82843Z"
                        fill="#007BFF" />
                    <path
                        d="M17.6381 15.1603C17.9115 12.8227 17.9985 10.4688 17.8991 8.12079C17.8943 8.00837 17.9366 7.89898 18.0162 7.81942L18.9995 6.83609C19.1204 6.71519 19.327 6.79194 19.3383 6.96254C19.5232 9.75219 19.4531 12.5545 19.128 15.3346C18.8914 17.3571 17.2671 18.9421 15.255 19.167C11.7884 19.5544 8.20511 19.5544 4.73853 19.167C2.72648 18.9421 1.10214 17.3571 0.865591 15.3346C0.451053 11.7903 0.451053 8.20973 0.865591 4.66543C1.10214 2.6429 2.72648 1.05789 4.73853 0.833012C7.36828 0.539099 10.0652 0.468149 12.7274 0.620161C12.899 0.629958 12.9772 0.837575 12.8557 0.959093L11.8631 1.95165C11.7844 2.03034 11.6765 2.07261 11.5653 2.06885C9.33888 1.99376 7.09732 2.07872 4.90514 2.32373C3.57504 2.47239 2.50955 3.522 2.35544 4.83968C1.95444 8.26821 1.95444 11.7318 2.35544 15.1603C2.50955 16.478 3.57504 17.5276 4.90514 17.6763C8.26099 18.0513 11.7326 18.0513 15.0884 17.6763C16.4185 17.5276 17.484 16.478 17.6381 15.1603Z"
                        fill="#007BFF" />
                </svg>
            </a>


        </div>
        <div class="height36"></div>
        {% for facility in facilities %}
        <div class="facility-card">
            {{facility.name}}
            
            <a onclick="showPopup()" href="{% url 'hospital:delete_facility' facility_id=facility.id %}"><svg
                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="feather feather-trash-2">
                    <polyline points="3 6 5 6 21 6"></polyline>
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    <line x1="10" y1="11" x2="10" y2="17"></line>
                    <line x1="14" y1="11" x2="14" y2="17"></line>
                </svg></a>
                {{facility.description}}
        </div>
        
        <div class="height20"></div>
        {% endfor %}
        {% if messages %}
        {% for message in messages %}
        <div class="message">{{ message }}</div>
        {% endfor %}
        {% endif %}
    </div>

</div>
<script>
    function showPopup() {
        var popup = document.getElementById("popup");
        popup.style.display = "block";
        setTimeout(function () {
            popup.style.display = "none";
        }, 3000); // Hide the pop-up after 3 seconds (adjust as needed)
    }
</script>
<style>
    .content {
        background: #ffffff;
        display: flex;
        width: 100%;
        padding: 30px;
    }

    .left-content {
        width: 50%;


    }

    .right-content {
        width: 50%;
        padding: 0 40px;

    }

    .facility {
        border: 1px solid #dfdfdf;
        border-radius: 20px;
        padding: 20px;
        display: flex;
        flex-direction: column;

    }

    .facility-card {
        background: #F9F9F9;
        font-size: 16px;
        color: #080808;
        font-weight: 500;
        border-radius: 10px;
        padding: 10px 30px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #f1f1f1;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    }

    .card-container {
        display: flex;
        gap: 10px;
    }

    .cards {
        height: 150px;
        width: 50%;
        padding: 20px;
        color: white;
        background: #000;
        border-radius: 20px;
        display: grid;
        grid-template-areas:
            "heading logo"
            "value .";

    }

    .count {
        font-size: 28px;
        align-self: flex-end;
        font-weight: 600;
    }

    .cards>svg {
        justify-self: end;
        grid-area: logo;
        fill: white;
        height: 20px;
    }

    .heading {
        font-family: poppins;

        font-weight: 400;
        font-size: 16px;
    }

    .sub-heading {
        display: flex;
        align-items: center;
        gap: 10px;
        font-family: poppins;
        color: #000000;

        font-weight: 500;
        font-size: 16px;
    }

    .title {
        font-family: poppins;
        color: #000000;

        font-weight: 300;
        font-size: 15px;
    }

    .details>svg {

        grid-area: logo;
        height: 20px;
    }

    .details {

        display: flex;
        flex-direction: column;
        gap: 10px;
        color: #6E6D7A;

    }

    .sub-detail {
        font-weight: 500;
        display: flex;

    }

    .height36 {
        height: 36px;
    }

    .height20 {
        height: 20px;
    }
</style>
{% endblock %}